package wozekwidlowy;

import java.awt.AWTEvent;
import java.awt.BasicStroke;
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.Stroke;
import java.awt.event.MouseEvent;
import javax.swing.JComponent;
import javax.swing.ToolTipManager;

/**
 *
 * @author RasGrass
 */
public class Shelf extends JComponent {

    private Object[] objects = new Object[5];
    private int objectCount = 0;

    public Shelf() {
        super();

        setPreferredSize(new Dimension((int) (Rack.RACK_WIDTH), (int) ((Rack.RACK_HEIGHT) / 5)));
        setBounds(0, 0, (int) Rack.RACK_WIDTH, (int) (Rack.RACK_HEIGHT / 5));
        ToolTipManager.sharedInstance().registerComponent(this);
        //System.out.println(ToolTipManager.sharedInstance().getInitialDelay());
        // ToolTipManager.sharedInstance().setEnabled(true);
        setToolTipText("Shelf");


    }

    public int getObjectCount() {
        return objectCount;
    }

    public void assingObject(Object obj) {
        objects[objectCount] = obj;
        Storehouse.getObjects().add(obj);
        objectCount++;
    }

    public void removeObject(Object obj) {
        objectCount--;
        Storehouse.getObjects().remove(obj);
    }

    @Override
    public String toString() {
        String command = "";
        if (objectCount == 0) {
            command += "No objects on this shelf..." + System.lineSeparator();
        } else {
            for (int i = 0; i < objectCount; i++) {


                command += "ID: " + objects[i].getID() + System.lineSeparator()
                        + "Name: " + objects[i].getName() + System.lineSeparator()
                        + "Weight: " + objects[i].getWeight() + System.lineSeparator()
                        + "Color: " + objects[i].getColor() + System.lineSeparator()
                        + "Type: " + objects[i].getType() + System.lineSeparator()
                        + "==============" + System.lineSeparator();
            }
        }

        return command;
    }

    /* @Override
     public String getToolTipText(MouseEvent e) {
     return "Półka";
     }
        
    
     @Override
     public String getToolTipText() {
     return "Półka";
     }*/
    @Override
    public void paintComponent(Graphics g) {
        Graphics2D g2d = (Graphics2D) g;
        float thickness = 3;
        Stroke defaultStroke = g2d.getStroke();
        //setBounds((int)Rack.START_POS,40,(int)Rack.RACK_WIDTH,(int)Rack.RACK_HEIGHT);
        g2d.setStroke(new BasicStroke(thickness));

        g2d.drawRect(0, 0, (int) Rack.RACK_WIDTH - 1, (int) (Rack.RACK_HEIGHT / 5) - 1);


        g2d.setStroke(defaultStroke);
    }
    // Nie ruszać:)

    public void processEvent(AWTEvent event) {
    }
;
}
